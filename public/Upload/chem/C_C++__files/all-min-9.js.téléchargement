var isMenuToggling=!1,menuHideByUser=!1,cseLoadedFlag=!1,sharethisLoadedFlag=!1,adsenseLoadedFlag=!1,internalEventFlag=!1,fixedMenuShowAtLeastOne=!1,fixedMenuLastTimeInMillis=(new Date).getTime();const SIDEBAR_MENU_TIMEOUT_DURATION=15e3,SIDEBAR_MENU_ANIMATION_DURATION=100,CSE_TIMEOUT_DURATION=5e3,SHARETHIS_TIMEOUT_DURATION=5e3,ADSENSE_TIMEOUT_DURATION=1e3,SHOW_AFFILIATE_TIMEOUT_DURATION=2e3,HOSTNAME_REGEX=new RegExp(location.host),TEST_WEBSITE_MODE=!1,ADSENSE_LAZY_LOAD_MODE="USERACTION";var ADSENSE_LAZY_LOADS=[];function documentReady_main(e){"complete"===document.readyState||"interactive"===document.readyState?setTimeout(e,1):document.addEventListener("DOMContentLoaded",e)}function callGetAJAX(e,t){var n;(n=new XMLHttpRequest).onreadystatechange=function(){4==n.readyState&&200==n.status&&t(n.responseText)},n.open("GET",e,!0),n.send()}function getWebPageInfo(){var e=new URL(window.location.href);TEST_WEBSITE_MODE&&(e=new URL("https://devstory.net/11921/test"));var t=e.pathname,n=new RegExp("^/\\d{5}/.+$"),o=new Object;return o.websiteSupported=!0,o.hostname=e.hostname,o.webname="",o.isPageNotFound=!1,"o7planning.org"==o.hostname?(o.langCode="en",o.webname="o7planning"):"openplanning.net"==o.hostname?(o.langCode="vi",o.webname="openplanning"):"betacode.net"==o.hostname?(o.langCode="ru",o.webname="betacode"):"devstory.net"==o.hostname?(o.langCode="fr",o.webname="devstory"):"codestory.de"==o.hostname?(o.langCode="de",o.webname="codestory"):o.websiteSupported=!1,n.test(t)&&(o.entryPointId=t.substring(1,6)),t.includes("/page-not-found")&&(o.isPageNotFound=!0),o.websiteSupported&&(o.pingUrl="https://a.o7planning.org/"+o.webname+t),o}function getWebsiteGoogleCseCode(){var e=[];e.en="cb1326d78fa0c5e19",e.vi="c3993c22456acaaab",e.ru="27e0851ca0fa3a921",e.de="6d6e8882a59d8372a",e.fr="2aa95a25022749070";var t=getWebPageInfo();return t.websiteSupported?e[t.langCode]:null}function getWebsiteSharethisCode(){var e=[];e.en="607b0eb8006b600019c74a3a",e.vi="607b11043fdf030018490bdc",e.ru="607b114a0e4a670018d6d6bb",e.de="607b119910cde40018d6402e",e.fr="607b11f80e4a670018d6d6bc";var t=getWebPageInfo();return t.websiteSupported?e[t.langCode]:null}function getSidebarMenuPanel(){return document.getElementById("style-switcher")}function getMenuToggleButton(){return document.getElementById("style-switcher-toggle")}function isMenuShowing(){var e=getMenuToggleButton();return!e||e.classList.contains("on")}function getSidebarFloatMarker(){return document.querySelector("#sidebar-float-marker")}function registerEvent_anchorLink_onclick(){foreachElements("a",function(e){e.onclick=function(){var e=this.getAttribute("data-href");e&&(location.href=e)}})}function registerEvent_sidebarMenu_onclick(){getMenuToggleButton().onclick=function(e){toggleSidebarMenu()}}function registerEvent_sidebarMenu_windowScroll(){window.onscroll=function(){var e=getSidebarFloatMarker(),t=isMenuShowing(),n=window.scrollY,o=(e.getBoundingClientRect().top,(new Date).getTime()-fixedMenuLastTimeInMillis>SIDEBAR_MENU_TIMEOUT_DURATION);if(n<300)t&&toggleSidebarMenu();else{if(!t&&!fixedMenuShowAtLeastOne)return void toggleSidebarMenu();o&&t&&toggleSidebarMenu()}}}function showLinkIconStyles(){foreachElements("a",function(e){var t=e.getAttribute("href"),n=e.getAttribute("target");if(t&&(HOSTNAME_REGEX.test(t)||"/"==t.slice(0,1)||"#"==t.slice(0,1)&&(e.classList.add("internal-page-anchor"),e.removeAttribute("href"),e.setAttribute("data-href",t))),"_blank"==n){var o=e.childNodes;(0==o.length||1==o.length&&3==o[0].nodeType)&&e.classList.add("target-blank-url")}})}function applyCarouselSlider(){try{$(".owl-carousel").owlCarousel({slideSpeed:300,paginationSpeed:400,pagination:!0,singleItem:!0})}catch(e){}}function toggleSidebarMenu(){if(!isMenuToggling){var e=getSidebarMenuPanel();if(e){isMenuToggling=!0;var t=getMenuToggleButton(),n=e.getBoundingClientRect().width,o=isMenuShowing();fixedMenuLastTimeInMillis=(new Date).getTime();var a=0,i=-n;o||(a=-n,i=0);var s=1;a>i&&(s=-1);var r=a,d=Math.abs(SIDEBAR_MENU_ANIMATION_DURATION/(a-i)),c=0,l=setInterval(function(){r+=s,e.style.right=r+"px",c+=d,o?(t.classList.remove("on"),t.classList.add("off")):(t.classList.remove("off"),t.classList.add("on"),fixedMenuShowAtLeastOne=!0),c>=SIDEBAR_MENU_ANIMATION_DURATION&&(clearInterval(l),isMenuToggling=!1)},s)}}}function setSidebarMenuVisible(e,t){toggleSidebarMenu()}function isInViewport(e){for(var t=e.offsetTop,n=e.offsetLeft,o=e.offsetWidth,a=e.offsetHeight;e.offsetParent;)t+=(e=e.offsetParent).offsetTop,n+=e.offsetLeft;return t>=window.pageYOffset&&n>=window.pageXOffset&&t+a<=window.pageYOffset+window.innerHeight&&n+o<=window.pageXOffset+window.innerWidth}function hideEmptyCategory(){foreachElements("div.cat-entry > ul",function(e){e.hasChildNodes()||(e.parentNode.style.display="none")})}function closeBottomFloatingAds(){document.getElementById("ads-floating-bottom").style.display="none"}function closeBottomFloatingAds_byDomain(){var e=getWebPageInfo();e.websiteSupported&&("en"!=e.langCode&&"fr"!=e.langCode&&"vi"!=e.langCode||closeBottomFloatingAds())}function sendPing(){var e=getWebPageInfo();if(e.websiteSupported)try{callGetAJAX(e.pingUrl,function(){})}catch(e){}}function showAdsenseAds(){if(!adsenseLoadedFlag&&(adsenseLoadedFlag=!0,getWebPageInfo().websiteSupported)){var e=document.createElement("script");e.setAttribute("data-ad-client","ca-pub-3437774241435215"),e.async=!0,e.src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}}function showGoogleSearchCSE(){if(!cseLoadedFlag){var e=getWebsiteGoogleCseCode();if(e){var t=document.createElement("script");t.async=!0,t.src="https://cse.google.com/cse.js?cx="+e;var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n),cseLoadedFlag=!0}else cseLoadedFlag=!0}}function showSharethis(){if(!sharethisLoadedFlag){var e=getWebsiteSharethisCode();if(e){var t=document.createElement("script");t.async=!0,t.src="https://platform-api.sharethis.com/js/sharethis.js#property="+e+"&product=sticky-share-buttons";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n),sharethisLoadedFlag=!0}else sharethisLoadedFlag=!0}}function registerEvent_internal(){var e=function(){internalEventFlag||(internalEventFlag=!0,setTimeout(function(){showSharethis()},SHARETHIS_TIMEOUT_DURATION),setTimeout(function(){showGoogleSearchCSE()},CSE_TIMEOUT_DURATION))};window.addEventListener("scroll",e),window.addEventListener("mousemove",e)}function registerEvent_adsense(){var e=getWebPageInfo();e.websiteSupported&&e.langCode&&"en"!=e.langCode&&"fr"!=e.langCode&&"vi"!=e.langCode&&(!ADSENSE_LAZY_LOADS[e.langCode]||e.isPageNotFound?showAdsenseAds():"USERACTION"==ADSENSE_LAZY_LOAD_MODE?(window.addEventListener("scroll",function(){showAdsenseAds()}),window.addEventListener("mousemove",function(){showAdsenseAds()})):setTimeout(function(){showAdsenseAds()},ADSENSE_TIMEOUT_DURATION))}ADSENSE_LAZY_LOADS.en=!0,ADSENSE_LAZY_LOADS.fr=!0,ADSENSE_LAZY_LOADS.ru=!0,ADSENSE_LAZY_LOADS.vi=!0,ADSENSE_LAZY_LOADS.de=!0,window.foreachElements=function(e,t){var n=document.querySelectorAll(e);[].forEach.call(n,t)};var processWebPage=function(){try{sendPing()}catch(e){}try{closeBottomFloatingAds_byDomain()}catch(e){}try{registerEvent_adsense()}catch(e){}try{registerEvent_internal()}catch(e){}try{setSidebarMenuVisible(!1,!1)}catch(e){}try{showLinkIconStyles()}catch(e){}try{hideEmptyCategory()}catch(e){}try{applyCarouselSlider()}catch(e){}try{registerEvent_anchorLink_onclick()}catch(e){}try{registerEvent_sidebarMenu_onclick()}catch(e){}try{registerEvent_sidebarMenu_windowScroll()}catch(e){}};function initWebMenu(e,t){var n=t;n.title||(n.title="Menu"),n.format||(n.format="dropdown"),n.sticky||(n.sticky=!1);var o=document.createElement("div");o.setAttribute("id","menu-button"),o.innerHTML=n.title,e.prepend(o),o.onclick=function(){this.classList.toggle("menu-opened");var t=e.querySelector("ul");t.classList.contains("open")?(t.style.display="none",t.classList.remove("open")):(t.style.display="block",t.classList.add("open"),"dropdown"===n.format&&(t.querySelector("ul").style.display="block"))};for(var a=e.querySelectorAll("li ul"),i=0;i<a.length;i++){a[i].parentNode.classList.add("has-sub")}"multitoggle"===n.format?function(){for(var t=e.querySelectorAll(".has-sub"),n=0;n<t.length;n++){var o=t[n],a=document.createElement("span");a.setAttribute("class","submenu-button"),o.prepend(a),a.onclick=function(){this.classList.toggle("submenu-opened");var e=this.parentNode.querySelector("ul");e.classList.contains("open")?(e.classList.remove("open"),e.style.display="none"):(e.classList.add("open"),e.style.display="block")}}}():e.classList.add("dropdown"),!0===n.sticky&&(e.style.position="fixed");var s=function(){window.innerWidth>768&&(e.querySelector("ul").style.display="block"),window.innerWidth<=768&&(e.querySelector("ul").style.display="none",e.querySelector("ul").classList.remove("open"))};s(),window.onresize=s}documentReady_main(processWebPage);var processMainMenu=function(){initWebMenu(document.querySelector("#cssmenu"),{title:"Menu",format:"multitoggle",sticky:!1})};function docReadyForMenu(e){"complete"===document.readyState||"interactive"===document.readyState?setTimeout(e,1):document.addEventListener("DOMContentLoaded",e)}docReadyForMenu(processMainMenu);